function [q,dq,ddq] = position(t)
%UNTITLED 此处显示有关此函数的摘要
%   此处显示详细说明
% q0=[0.162   2/3*(-0.162+0.5)	-0.027	-0.540-0.4	-0.679	-0.726	0.065+1.5];
% a=[0.082	2/3*1.194    0.182	-0.051	-0.157	0.162	-0.099;
% 0.414	2/3*-0.109	-0.252	0.413	0.950	0.508	0.324;	
% -0.357	2/3*-0.311	0.263	0.128	0.115	-0.103	0.156;	
% 0.220	2/3*-0.038	0.094	-0.189	-0.152	0.081	-0.069;	
% 0.121	2/3*0.022	-0.149	-0.0003	-0.296	-0.239	-0.149]';
% b=[0.054  2/3*0.073	-0.069	0.017	-0.048	0.214	0.733;	
% 0.154	 2/3*0.269	0.284	-0.211	-0.715	0.077	0.564;	
% -0.328	2/3*-0.044	-0.107	-0.148	-0.231	-0.035	-0.562;	
% 0.105	 2/3*0.001	0.002	-0.216	0.237	0.212	0.260;	
% 0.016	2/3*-0.031	-0.101	0.125	0.048	-0.144	-0.132]';
% q0=[0.246776392623472	-0.232555111198103	-0.313701845233227	-0.584079837410886	-0.796481607623353	0.504026147621708	0.0265576252420388];
% a=[0.0649371779997108	1.07614162180712  	0.396385676075408	0.0162750124516093	1.38934488892494	              0.0561638313766951	0.128431258944603	
% 0.425093375854139	-0.0563687456490540	-0.339413824590960	0.369686145325117	-0.00423708389538341	0.431298675921398	0.0322001587445006	
% -0.762190817987329	-0.302458054130836	0.594525876899086	0.117922364257261	-0.147067391155693	-0.184764785812903	-0.321206934002678	
% 0.240762411704359	-0.0729231515929734	0.218952934308436	-0.229431775002773	0.0991742120065555	-0.386112601534397	-0.150438232840102	
% 0.0816797754872145	0.0471325276509827	-0.475389478967218	-0.0383374591726328	-0.266003547888500	0.235996716071499	0.274508431387107]';
% b=[-0.00891104328960483	0.0631611422686268	-0.126090106385184	0.0189711613355151	-0.0553380563079018	0.107208622662974	0.526499634821682	
% 0.661883604937703	0.209309563564163	0.854868128846040	-0.163319161873798	-0.0585014567198756	0.0648410511739715	0.195462222399006	
% -0.520727090797381	-0.0613090848116058	-0.119302661519606	-0.202925907311174	0.0371863374545500	-0.0412353962378956	-0.239489208514210	
% 0.0558355716942970	-0.0281246345229803	0.0388796791316543	-0.153139257927019	-2.13378057197942e-05	-0.105533631957369	0.394148116813652	
% 0.0461820517442595	0.00405506076593959	-0.113669332857278	0.196434671151732	-0.00179966996048046	0.0677233540040104	-0.218372620671350]';
% q0=optimresults.x(1:7);
for i=1:5
    a(:,i)=optimresults2.x(7*i+1:7*i+7);
end
for i=1:5
    b(:,i)=optimresults2.x(7*i+36:7*i+42);
end
q=zeros(1,7);
dq=zeros(1,7);
ddq=zeros(1,7);
%     for i=1:7
%         q(i)=0;
%         dq(i)=0;
%         ddq(i)=0;
% 	    for j=1:5
%     		q(i)=5*a(i,j)/(pi*j)*sin(pi/5*j*t)-5*b(i,j)/(pi*j)*cos(pi/5*j*t)+q(i);
%     		dq(i)=a(i,j)*cos(pi/5*j*t)+b(i,j)*sin(pi/5*j*t)+dq(i);
%     		ddq(i)=-pi*j*a(i,j)/5*sin(pi/5*j*t)+pi*j*b(i,j)/5*cos(pi/5*j*t)+ddq(i);
% 	    end
% 	    q(i)=q(i)+q0(i);
%     end
    for i=1:7
        q(i)=0;
        dq(i)=0;
        ddq(i)=0;
	    for j=1:5
    		q(i)=a(i,j)*sin(pi/5*j*t)+b(i,j)*cos(pi/5*j*t)+q(i);
    		dq(i)=a(i,j)*pi/5*j*cos(pi/5*j*t)-b(i,j)*pi/5*j*sin(pi/5*j*t)+dq(i);
    		ddq(i)=-pi^2*j^2*a(i,j)/25*sin(pi/5*j*t)-pi^2*j^2*b(i,j)/25*cos(pi/5*j*t)+ddq(i);
	    end
	    q(i)=q(i)+q0(i);
    end

% q0=[0.23530170809504386	-0.3694238497972596	-0.9729202805745709	-0.41214483146042336	-0.03471714732326214	-0.0951882963052734	-0.4245588191806831];
% a=[0.06498254930378869	1.292745619307008	             2.2309929361890357	            0.047780252422122034	                  1.6493751238945538	0.5868515245548084                  0.18905128116424985	
% 0.4230836858879671	             -0.016655111708000957	0.033006122715290194	0.35160430466311143	0.199583122381347	                 1.0654671129286857	0.26494636202209987	
% -0.7474717005443657	-0.6046710840336539	0.28885406559723664	0.12632516230939653	-0.2251043951803059	0.16742593441614853	-0.4837954006153597	
% 0.25429628499569146	0.09389376177361328	-0.780971417583991	                -0.2021984727209319	0.24521575507182428	-0.8195275264074452	0.11574537934663995	
% 0.06281600811456378	0.03580056180225173	-0.007936341610337712	-0.06423409155759886	-0.47081824068471295	0.011609310399386709	0.05389213585203395	]';
% b=[-0.018210056372817262	0.08101199009325344	-0.6801575985645264	0.020762480060566794	-0.06536095065287234	0.7156005527325381 	0.6642997471488384	
% 0.65239441130778	                   0.3397696576919927	0.3586557420323316	                -0.12284791222108923	-0.22155802848729605	0.15805170308719857	0.2862044054790565	
% -0.5164663142713403	-0.05653062327799034	0.055142610428603286	-0.23692624498853967	-0.025881021391523328	0.27970618187124174	-0.6653025823647677	
% 0.03056053047543969	-0.13193852165499576	-0.20138724677796013	-0.12711195541438963	0.029975613949763714	-0.21729105436747098	-0.0012177364541889855	
% 0.06271443007907061	0.047188053403901684	0.07887253184007607	0.1854702664120218	             0.028196497357035923	-0.01544747184424327	0.16792358621890374]';
% % q=zeros(1,7);
% % dq=zeros(1,7);
% % ddq=zeros(1,7);
% %     for i=1:7
% %         q(i)=0;
% %         dq(i)=0;
% %         ddq(i)=0;
% % 	    for j=1:5
% %     		q(i)=5*a(i,j)/(pi*j)*sin(pi/5*j*t)-5*b(i,j)/(pi*j)*cos(pi/5*j*t)+q(i);
% %     		dq(i)=a(i,j)*cos(pi/5*j*t)+b(i,j)*sin(pi/5*j*t)+dq(i);
% %     		ddq(i)=-pi*j*a(i,j)/5*sin(pi/5*j*t)+pi*j*b(i,j)/5*cos(pi/5*j*t)+ddq(i);
% % 	    end
% % 	    q(i)=q(i)+q0(i);
% %     end
%     for i=1:7
%         q(i)=0;
%         dq(i)=0;
%         ddq(i)=0;
% 	    for j=1:5
%     		q(i)=a(i,j)*sin(pi/5*j*t)+b(i,j)*cos(pi/5*j*t)+q(i);
%     		dq(i)=a(i,j)*pi/5*j*cos(pi/5*j*t)-b(i,j)*pi/5*j*sin(pi/5*j*t)+dq(i);
%     		ddq(i)=-pi^2*j^2*a(i,j)/25*sin(pi/5*j*t)-pi^2*j^2*b(i,j)/25*cos(pi/5*j*t)+ddq(i);
% 	    end
% 	    q(i)=q(i)+q0(i);
%     end
end

